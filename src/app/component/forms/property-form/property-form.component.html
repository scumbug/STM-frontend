<form [formGroup]="propertyFormGroup">
  <p-dialog
    [(visible)]="propertyForm"
    [style]="{ width: '450px' }"
    header="Property Details"
    [modal]="true"
    styleClass="p-fluid"
  >
    <ng-template pTemplate="content">
      <div class="p-field">
        <label for="name">Name</label>
        <input
          type="text"
          pInputText
          id="name"
          formControlName="name"
          required
          autofocus
        />
        <small class="p-error" *ngIf="submitted && !property.name"
          >Name is required.</small
        >
      </div>
      <div class="p-field">
        <label for="address">Address</label>
        <textarea
          id="address"
          pInputTextarea
          formControlName="address"
          required
          rows="3"
          cols="20"
        ></textarea>
        <small class="p-error" *ngIf="submitted && !property.address"
          >Address is required.</small
        >
      </div>
      <div class="p-field">
        <label for="type">Type</label>
        <p-dropdown
          formControlName="type"
          inputId="type"
          [options]="propertyType"
          placeholder="Select"
        >
          <ng-template let-option pTemplate="item">
            <span [class]="'product-badge status-' + option.label">{{
              option.label
            }}</span>
          </ng-template>
        </p-dropdown>
      </div>

      <div class="p-field">
        <label for="managementStatus">Management Status</label>
        <p-dropdown
          formControlName="managementStatus"
          inputId="managementStatus"
          [options]="managementStatus"
          placeholder="Select"
        >
          <ng-template let-option pTemplate="item">
            <span [class]="'product-badge status-' + option.value">{{
              option.label
            }}</span>
          </ng-template>
        </p-dropdown>
      </div>

      <div class="p-field">
        <label for="propertyStatus">Property Status</label>
        <p-dropdown
          formControlName="propertyStatus"
          inputId="propertyStatus"
          [options]="propertyStatus"
          placeholder="Select"
        >
          <ng-template let-option pTemplate="item">
            <span [class]="'product-badge status-' + option.value">{{
              option.label
            }}</span>
          </ng-template>
        </p-dropdown>
      </div>

      <div class="p-formgrid p-grid">
        <div class="p-field p-col-6">
          <label for="price">Common Area Maint. Fee</label>
          <p-inputNumber
            id="price"
            formControlName="maintenanceFee"
            mode="currency"
            currency="USD"
            locale="en-US"
          ></p-inputNumber>
        </div>

        <div class="p-field p-col">
          <label for="builtDate">Date Constructed</label>
          <p-calendar
            inputId="builtDate"
            formControlName="builtDate"
            appendTo="body"
          ></p-calendar>
        </div>
      </div>
    </ng-template>

    <ng-template pTemplate="footer">
      <button
        pButton
        pRipple
        label="Cancel"
        icon="pi pi-times"
        class="p-button-text"
        (click)="hideDialog()"
      ></button>
      <button
        pButton
        pRipple
        label="Save"
        icon="pi pi-check"
        class="p-button-text"
        [disabled]="this.propertyForm.invalid"
        (click)="saveProperty()"
      ></button>
    </ng-template>
  </p-dialog>
</form>
